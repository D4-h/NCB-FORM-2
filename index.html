<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCB Role & Responsibility Form: A Visual Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9F9F9;
        }
        .card {
            background-color: #FFFFFF;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border: 1px solid #E5E7EB;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .flow-line {
            width: 2px;
            background-color: #D1D5DB;
            margin-left: auto;
            margin-right: auto;
        }
        .flow-line-horizontal {
            height: 2px;
            background-color: #D1D5DB;
        }
        .flow-arrow-down::after {
            content: '';
            display: block;
            margin: -2px auto 0;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid #D1D5DB;
        }
        .kpi-number {
            font-weight: 900;
            color: #00A6ED;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="text-gray-800">
    
    <!-- 
    Palette Name: Energetic & Playful
    #00A6ED (Vibrant Blue)
    #7FB800 (Lime Green)
    #FFB400 (Amber)
    #F65314 (Orange-Red)
    #F9F9F9 (Background)
    #FFFFFF (Card)
    #333333 (Text)
    -->

    <!--
    Narrative & Structure Plan:
    1. Header: Introduce the guide.
    2. Section 1 (L1): Visualize the initial choice and the three main paths.
    3. Section 2 (L1a, L1b): Detail the "Headquarters" path.
    4. Section 3 (L2): Detail the "Regional/Zonal" path.
    5. Section 4 (L3, L4): Show the convergence to define designation and name.
    6. Section 5 (L6): Explain and visualize the two scenarios for detailing responsibilities, using a Donut chart.
    7. Section 6 (L7, L8, Submit): Show the final steps for optional roles and submission.
    8. Footer: Concluding message.
    -->

    <!--
    Visualization Choices:
    - Form Process Flow -> Goal: Organize -> Visualization: Flow Chart -> Method: Structured HTML/CSS with Tailwind. Justification: Best for showing conditional logic without using prohibited SVG/Mermaid.js.
    - L6 Scenarios Breakdown -> Goal: Inform/Compare -> Visualization: Donut Chart -> Method: Chart.js (Canvas). Justification: Provides a quick, visual way to show the proportion between predefined vs. manual role entry.
    - Key Action Icons -> Goal: Inform -> Visualization: Unicode Characters -> Method: Styled Text. Justification: Lightweight and effective visual cues without using images or SVG.

    NO SVG was used in this output.
    NO Mermaid JS was used in this output.
    -->

    <main class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-2">A Visual Guide</h1>
            <p class="text-xl text-gray-600">to the NCB Role & Responsibility Mapping Form</p>
        </header>

        <section id="step1" class="mb-16">
            <div class="text-center max-w-2xl mx-auto mb-8">
                <h2 class="text-3xl font-bold mb-2" style="color: #00A6ED;">Step 1: The Starting Point</h2>
                <p class="text-lg text-gray-600">Your journey through the form begins with a single, crucial selection: your primary office. This choice dictates the path you'll follow.</p>
            </div>
            
            <div class="card max-w-md mx-auto text-center">
                <span class="text-sm font-semibold text-gray-500">L1</span>
                <p class="text-xl font-bold">Select Your NCB Office</p>
            </div>

            <div class="w-full h-12 flex justify-center items-center">
                <div class="w-px h-full bg-gray-300"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center relative">
                <div class="absolute top-1/2 left-0 w-full h-px bg-gray-300 hidden md:block"></div>
                <div class="absolute top-0 left-1/2 w-px h-1/2 bg-gray-300 hidden md:block"></div>
                
                <div class="card z-10">
                    <p class="font-bold text-lg" style="color: #F65314;">Path A: Headquarters</p>
                </div>
                <div class="card z-10">
                    <p class="font-bold text-lg" style="color: #7FB800;">Path B: Regional Office</p>
                </div>
                <div class="card z-10">
                    <p class="font-bold text-lg" style="color: #FFB400;">Path C: Zonal Office</p>
                </div>
            </div>
        </section>

        <div class="flow-line h-16 flow-arrow-down"></div>
        
        <section id="paths" class="mb-16">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-12 gap-y-16">
                
                <div class="space-y-6">
                    <div class="text-center max-w-2xl mx-auto mb-8">
                        <h2 class="text-3xl font-bold mb-2" style="color: #F65314;">Path A: The Headquarters Flow</h2>
                        <p class="text-lg text-gray-600">If you are part of Headquarters, your next steps involve specifying your Division and, potentially, your Wing/Branch.</p>
                    </div>

                    <div class="card text-center">
                        <span class="text-sm font-semibold text-gray-500">L1a</span>
                        <p class="text-xl font-bold">Select Your Division</p>
                    </div>

                    <div class="flow-line h-8 flow-arrow-down"></div>
                    
                    <div class="card text-center relative">
                        <div class="absolute -top-6 left-1/2 -translate-x-1/2 bg-amber-100 text-amber-800 text-xs font-semibold px-2 py-0.5 rounded-full">CONDITIONAL</div>
                        <span class="text-sm font-semibold text-gray-500">L1b</span>
                        <p class="text-xl font-bold">Mention Your Wing/Branch</p>
                        <p class="text-sm text-gray-500 mt-2">Only appears for certain divisions like P&A, Ops. etc.</p>
                    </div>
                </div>

                <div class="space-y-6">
                    <div class="text-center max-w-2xl mx-auto mb-8">
                        <h2 class="text-3xl font-bold mb-2" style="color: #7FB800;">Paths B & C: Regional & Zonal Flow</h2>
                        <p class="text-lg text-gray-600">For personnel in Regional and Zonal offices, the path is streamlined. You will proceed directly to selecting your operational Vertical.</p>
                    </div>
                    
                    <div class="card text-center">
                        <span class="text-sm font-semibold text-gray-500">L2</span>
                        <p class="text-xl font-bold">Choose Your Vertical</p>
                    </div>
                </div>

            </div>
        </section>

        <div class="flow-line h-16 flow-arrow-down"></div>
        
        <section id="step3" class="mb-16">
            <div class="text-center max-w-2xl mx-auto mb-8">
                <h2 class="text-3xl font-bold mb-2" style="color: #00A6ED;">Step 2: Defining Your Role</h2>
                <p class="text-lg text-gray-600">Regardless of your initial path, all roads lead to defining your designation and identity. This section is universal for all users.</p>
            </div>

            <div class="space-y-8 max-w-lg mx-auto">
                <div class="card text-center">
                    <span class="text-sm font-semibold text-gray-500">L3</span>
                    <p class="text-xl font-bold">Choose Your Designation</p>
                </div>
                
                <div class="text-center relative px-8">
                    <div class="flow-line-horizontal absolute top-1/2 left-0 w-full z-0"></div>
                    <div class="bg-amber-100 text-amber-800 text-sm font-semibold px-3 py-1 rounded-full z-10 relative inline-block">If designation not in list...</div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                    <div class="card text-center">
                        <span class="text-sm font-semibold text-gray-500">L3a</span>
                        <p class="text-lg font-bold">Manually Type Designation</p>
                    </div>

                    <div class="text-center mt-4 md:mt-12">
                        <div class="flow-line h-8 flow-arrow-down hidden md:block"></div>
                        <p class="text-gray-500 text-sm">Both paths continue here</p>
                    </div>
                </div>

                 <div class="flow-line h-8 flow-arrow-down md:hidden"></div>

                <div class="card text-center">
                    <span class="text-sm font-semibold text-gray-500">L4</span>
                    <p class="text-xl font-bold">Type Your Name with Designation</p>
                </div>
            </div>
        </section>

        <div class="flow-line h-16 flow-arrow-down"></div>

        <section id="step4" class="mb-16">
            <div class="text-center max-w-2xl mx-auto mb-8">
                <h2 class="text-3xl font-bold mb-2" style="color: #00A6ED;">Step 3: Mapping Responsibilities</h2>
                <p class="text-lg text-gray-600">This is the core of the form. The system presents predefined roles when available, but allows for manual entry if needed. Select all roles that apply to you.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-12 gap-y-16 items-center">
                <div class="space-y-6">
                    <div class="card">
                        <h3 class="font-bold text-xl mb-4">Scenario A: Predefined Roles</h3>
                        <p class="text-gray-600 mb-4">The system provides a list of potential roles. Tick the box for each one that applies to you to reveal the required fields.</p>
                        <div class="p-4 border rounded-lg bg-gray-50">
                            <label class="flex items-center font-semibold">
                                <input type="checkbox" checked class="h-5 w-5 rounded mr-3" style="accent-color: #00A6ED;">
                                An example role or responsibility.
                            </label>
                            <div class="pl-8 pt-3 mt-3 border-l-2">
                                <p class="text-sm font-semibold text-gray-700">Frequency: <span class="font-normal text-gray-600">Daily</span></p>
                                <p class="text-sm font-semibold text-gray-700">Time Spent: <span class="font-normal text-gray-600">2 hours</span></p>
                            </div>
                        </div>
                    </div>
                     <div class="card">
                        <h3 class="font-bold text-xl mb-4">Scenario B: Manual Entry</h3>
                        <p class="text-gray-600">If no predefined roles exist for your designation (or you chose 'not in list'), you'll be prompted to enter your primary role manually.</p>
                    </div>
                </div>

                <div class="card">
                    <h3 class="font-bold text-xl text-center mb-4">L6 Entry Scenarios</h3>
                    <p class="text-gray-600 text-center mb-4">While most users will encounter predefined roles, the form flexibly handles manual entries for unique designations.</p>
                    <div class="chart-container">
                        <canvas id="rolesChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <div class="flow-line h-16 flow-arrow-down"></div>

        <section id="step5" class="mb-16">
            <div class="text-center max-w-2xl mx-auto mb-8">
                <h2 class="text-3xl font-bold mb-2" style="color: #00A6ED;">Step 4: Finalizing Submission</h2>
                <p class="text-lg text-gray-600">The final steps involve accounting for any additional duties and submitting your completed form.</p>
            </div>
            <div class="space-y-8 max-w-lg mx-auto">
                 <div class="card text-center">
                    <span class="text-sm font-semibold text-gray-500">L7</span>
                    <p class="text-xl font-bold">Have Other Roles & Responsibilities?</p>
                </div>
                <div class="text-center relative px-8">
                    <div class="flow-line-horizontal absolute top-1/2 left-0 w-full z-0"></div>
                    <div class="bg-gray-100 text-gray-800 text-sm font-semibold px-3 py-1 rounded-full z-10 relative inline-block">If you select "Yes"...</div>
                </div>
                <div class="card text-center">
                    <span class="text-sm font-semibold text-gray-500">L8</span>
                    <p class="text-xl font-bold"><span class="text-2xl" style="color:#00A6ED;">+</span> Add Optional Roles</p>
                </div>
                 <div class="flow-line h-8 flow-arrow-down"></div>
                 <div class="card text-center" style="background-color: #7FB800;">
                    <p class="text-2xl font-bold text-white">✔ Submit Form</p>
                </div>
            </div>
        </section>

        <footer class="text-center mt-16 pt-8 border-t">
            <p class="text-gray-600">Thank you for your contribution.</p>
        </footer>

    </main>

    <script>
        const wrapLabel = (label) => {
            const maxLen = 16;
            if (label.length <= maxLen) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).length > maxLen && currentLine.length > 0) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = currentLine ? currentLine + ' ' + word : word;
                }
            }
            if (currentLine) {
                lines.push(currentLine);
            }
            return lines;
        };
        
        const ctx = document.getElementById('rolesChart').getContext('2d');
        const rolesChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Encounter Predefined Roles', 'Manual Role Entry Required'],
                datasets: [{
                    label: 'L6 Entry Scenarios',
                    data: [85, 15],
                    backgroundColor: [
                        '#00A6ED',
                        '#FFB400'
                    ],
                    borderColor: [
                        '#FFFFFF',
                        '#FFFFFF'
                    ],
                    borderWidth: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                  return label.join(' ');
                                } else {
                                  return label;
                                }
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
